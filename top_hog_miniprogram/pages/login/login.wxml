<!-- Onboarding / 登录页面 -->
<view class="container">
  <!-- 顶部标题 -->
  <view class="header">
    <view class="title-section">
      <text class="app-name">TAKE6 小程序</text>
    </view>
  </view>

  <!-- 背景图 -->
  <view class="bg-image">
    <image class="bg-img" src="/images/cards-bg.jpg" mode="aspectFill"></image>
    <view class="bg-overlay"></view>
  </view>

  <!-- 主体内容 -->
  <view class="content">
    <!-- 用户授权区 -->
    <view class="auth-card">
      <view class="welcome-section">
        <image class="avatar" src="{{userInfo.avatarUrl || '/images/default-avatar.png'}}" mode="aspectFill"></image>
        <view class="welcome-text">
          <block wx:if="{{userInfo}}">
            <text class="welcome-title">欢迎回来，{{userInfo.nickname}}</text>
            <text class="welcome-desc">您已登录成功，准备开始游戏吧！</text>
          </block>
          <block wx:else>
            <text class="welcome-title">欢迎来到 谁是猪头王 线上牌桌</text>
            <text class="welcome-desc">使用微信授权，一键同步头像昵称与历史战绩。</text>
          </block>
        </view>
      </view>
      <button wx:if="{{!userInfo}}" class="wechat-btn" bindtap="handleWechatLogin" disabled="{{loading}}">
        <text class="wechat-icon">微信</text>
        <text>微信授权登录</text>
      </button>
      <view wx:if="{{userInfo}}" class="login-success-tip" style="text-align: center; margin-top: 20rpx;">
        <icon type="success" size="20" color="#10b981"/>
        <text style="margin-left: 8rpx; color: #10b981; font-size: 28rpx;">登录成功</text>
      </view>
      <view class="agreement">
        <text class="agreement-text">登录即代表你同意</text>
        <text class="agreement-link">《用户协议》</text>
        <text class="agreement-text">和</text>
        <text class="agreement-link">《隐私政策》</text>
        <text class="agreement-text">。</text>
      </view>
    </view>


  </view>
</view>
